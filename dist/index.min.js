/*!
 *   convert_arabic_num.js
 * See {@link https://github.com/dettalant/convert_arabic_num}
 *
 * @author dettalant
 * @version v0.1.0
 * @license MIT License
 */
class e{constructor(e){this.mode="simple",this.charMode="modern",void 0!==e&&(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.charMode&&(this.charMode=e.charMode))}convert(e){const t=/((?:[\d]+[\.,]?)+)/g,r=e.split(t);let o="";for(let e of r){t.test(e)?(e=this.removeComma(e),o+=e="verbose"===this.mode?this.convert_verbose(e):"moderate"===this.mode?this.convert_moderate(e):this.convert_simple(e)):o+=e}return o}convert_simple(e){const t="retro"===this.charMode?this.retroCharMap:this.modernCharMap;for(let[r,o]of t){const t=new RegExp("["+("."===r?".":r)+"]","g");e=e.replace(t,o)}return e}convert_verbose(e){const t=e.split(".");let r="";const o=Array.from(t[0]),s=o.length,n=this.moderateUnitsArray,i=n.length,h=this.verboseUnitsArray,a=h.length;for(let e=0;e<s;e++){let t=o[s-1-e];if("0"===t)continue;const c=e%a,l=h[c],m=0!==e&&0===c?n[Math.floor((e-4)/4)%i]:"";"1"===t&&0!==e&&""===m&&(t=""),r=t+l+m+r}return t.length>1&&(r+="・"+t[1]),this.convert_simple(r)}convert_moderate(e){const t=e.split(".");let r="";const o=t[0],s=o.length;if(s<=4)r+=this.convert_simple(o);else{const t=Math.ceil(s/4);let o=s;const n=this.moderateUnitsArray,i=n.length;for(let s=0;s<t;s++){const t=4,h=o>t?o-t:0,a=0!==s?n[(s-1)%i]:"";r=e.slice(h,o)+a+r,o-=t}}if(t.length>1){r+="・"+t[1]}return this.convert_simple(r)}get modernCharMap(){return new Map([["1","一"],["2","二"],["3","三"],["4","四"],["5","五"],["6","六"],["7","七"],["8","八"],["9","九"],["0","〇"],[".","・"]])}get retroCharMap(){return new Map([["1","壱"],["2","弐"],["3","参"],["4","肆"],["5","伍"],["6","陸"],["7","漆"],["8","捌"],["9","玖"],["0","零"],[".","・"],["十","拾"],["百","佰"],["千","仟"],["万","萬"]])}get verboseUnitsArray(){return["","十","百","千"]}get moderateUnitsArray(){return["万","億","兆","京","垓","𥝱","穣","溝","正","載","極","恒河沙","阿僧祇","那由他","不可思議","無量大数"]}removeComma(e){return e.replace(/[,]/g,"")}}export{e as ConvertArabicNum};
